<div class="row">
	<form *ngIf="network" [formGroup]="form">
		<h3 class="box-title">Network</h3>
		<div class="col-md-6">
			<div class="box box-green">
				<div class="box-body">
					<fieldset formGroupName="ipParams">
						<div class="row">
							<div class="col-lg-4">
								<div class="form-group">
									IP Address:
									<input formControlName="hsuIp" [(ngModel)]="network.ipParams && network.ipParams.hsuIp" class="form-control" type="text">
									<div class="control-msgs" *ngIf="form.controls.ipParams.controls.hsuIp.dirty && !form.controls.ipParams.controls.hsuIp.valid">
										<p *ngIf="form.controls.ipParams.controls.hsuIp.errors.invalidIp4">IP Address is invalid</p>
										<p *ngIf="form.controls.ipParams.controls.hsuIp.errors.required">IP Address is required</p>
									</div>
									<div class="control-msgs" *ngIf="form.controls.ipParams.dirty && !form.controls.ipParams.valid">
										<p *ngIf="form.controls.ipParams.errors.invalidIpParams">Invalid IP params</p>
									</div>
								</div>
							</div>
							<div class="col-lg-4">
								<div class="form-group">
									Subnet Mask:
									<input formControlName="hsuSubnetMask" [(ngModel)]="network.ipParams && network.ipParams.hsuSubnetMask" class="form-control"
										type="text">
									<div class="control-msgs" *ngIf="form.controls.ipParams.controls.hsuSubnetMask.dirty && !form.controls.ipParams.controls.hsuSubnetMask.valid">
										<p *ngIf="form.controls.ipParams.controls.hsuSubnetMask.errors.invalidIp4">Subnet Mask is invalid</p>
										<p *ngIf="form.controls.ipParams.controls.hsuSubnetMask.errors.required">Subnet Mask is required</p>
									</div>
								</div>
							</div>
							<div class="col-lg-4">
								<div class="form-group">
									Default Gateway:
									<input formControlName="hsuDefaultGateway" [(ngModel)]="network.ipParams && network.ipParams.hsuDefaultGateway" class="form-control"
										type="text">
									<div class="control-msgs" *ngIf="form.controls.ipParams.controls.hsuDefaultGateway.dirty && !form.controls.ipParams.controls.hsuDefaultGateway.valid">
										<p *ngIf="form.controls.ipParams.controls.hsuDefaultGateway.errors.invalidIp4">Default Gateway is invalid</p>
										<p *ngIf="form.controls.ipParams.controls.hsuDefaultGateway.errors.required">Default Gateway Mask is required</p>
									</div>
								</div>
							</div>
						</div>
					</fieldset>
					<fieldset>
						<div class="row">
							<div class="col-lg-4">
								<div class="form-group">
									Current:
									<input formControlName="currentPortState" [(ngModel)]="network.currentPortState" class="form-control" type="text" readonly>
								</div>
							</div>
							<div class="col-lg-4">
								<div class="form-group">
									Mode:
									<select formControlName="desiredPortState" [(ngModel)]="network.desiredPortState" class="form-control">
                                        <option *ngFor="let state of network.availablePortStates" [value]="state">{{ state }}</option>
                                    </select>
								</div>
							</div>
							<div class="col-lg-4">
								<div class="form-group">
									CRC Errors:
									<div class="input-group">
										<input class="form-control" (click)="ClearCrcCounter()" type="number" readonly value={{crcCounterPresenter}}>
										<span style="cursor: pointer;" class="input-group-addon" (click)="ClearCrcCounter()">X</span>
									</div>
								</div>
							</div>
						</div>
					</fieldset>
				</div>
			</div>
		</div>

		<div class="col-md-6">
			<div class="box box-light-blue">
				<div class="vlan-wrapper">
					<div class="vlan-content">
						<div class="vlan-title">
							<div>VLAN MANAGEMENT</div>
							<div class="onoffswitch">
								<input type="checkbox" (click)="vlanCheckBoxClicked()" class="onoffswitch-checkbox" id="myonoffswitch" [(ngModel)]="isVlanEnabled"
									[ngModelOptions]="{standalone: true}">
								<label class="onoffswitch-label" for="myonoffswitch">
                                <span class="onoffswitch-inner"></span>
                                <span class="onoffswitch-switch"></span>
                            </label>
							</div>
						</div>

                        <div class="vlan-form">
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        ID:
                                        <input formControlName="vlanId" [(ngModel)]="vlanId" [readonly]="!isVlanEnabled" class="form-control" type="number"
                                            min="1" max="4094">
                                        <div class="control-msgs" *ngIf="form.controls.vlanId.dirty && !form.controls.vlanId.valid">
                                            <p *ngIf="form.controls.vlanId.errors.invalidMinMax">VLAN ID should be set in the range of 1-4094 </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        Priority:
                                        <input formControlName="vlanPriority" type="number" min="0" max="7"
                                            [(ngModel)]="vlanPriority"
                                            [readonly]="!isVlanEnabled" class="form-control">
                                        <div class="control-msgs" *ngIf="form.controls.vlanPriority.dirty && !form.controls.vlanPriority.valid">
                                            <p *ngIf="form.controls.vlanPriority.errors.invalidMinMax">VLAN Priority should be set in the range of 0-7 </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<div class="row">
	<div class="col-md-6">
		<div class="box box-red">
			<div class="box-body">
				<div class="row">
					<div class="traps-header">
						<div class="col-md-4">
							<div class="trap-title">
								<div>TRAP DESTINATIONS</div>
							</div>
						</div>
						<div class="col-md-8">
							<div class="traps-buttons">
								<button (click)="changeTrapIndex(0)" [ngClass]="{'btn btn-default': true, 'active': isActive(0)}">1</button>
								<button (click)="changeTrapIndex(1)" [ngClass]="{'btn btn-default': true, 'active': isActive(1)}">2</button>
								<button (click)="changeTrapIndex(2)" [ngClass]="{'btn btn-default': true, 'active': isActive(2)}">3</button>
								<button (click)="changeTrapIndex(3)" [ngClass]="{'btn btn-default': true, 'active': isActive(3)}">4</button>
								<button (click)="changeTrapIndex(4)" [ngClass]="{'btn btn-default': true, 'active': isActive(4)}">5</button>
								<button (click)="changeTrapIndex(5)" [ngClass]="{'btn btn-default': true, 'active': isActive(5)}">6</button>
								<button (click)="changeTrapIndex(6)" [ngClass]="{'btn btn-default': true, 'active': isActive(6)}">7</button>
								<button (click)="changeTrapIndex(7)" [ngClass]="{'btn btn-default': true, 'active': isActive(7)}">8</button>
								<button (click)="changeTrapIndex(8)" [ngClass]="{'btn btn-default': true, 'active': isActive(8)}">9</button>
								<button (click)="changeTrapIndex(9)" [ngClass]="{'btn btn-default': true, 'active': isActive(9)}">10</button>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<trap-comp [trap]="clonedTraps[trapIndex]"></trap-comp>
					</div>
				</div>

			</div>
		</div>
	</div>
</div>

<div class="buttons-footer">
	<button form="form" type="submit" (click)="save($event)" [disabled]="isFormDisabled()" class="btn btn-primary">APPLY ALL</button>
	<button form="form" type="cancel" (click)="cancel($event)" class="btn btn-default">CANCEL</button>
</div>